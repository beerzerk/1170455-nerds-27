let emailRegExp=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,usernameRegExp=/^[A-Za-zА-Яа-яЁё]*\s*[A-Za-zА-Яа-яЁё]*\s*$/,messageRegExp=/\S/,errorValidation=!1,btnContacts=document.querySelector(".btn-contacts");function validateValue(e,a,r){e.classList.remove(r),a.test(e.value)||(e.classList.add(r),errorValidation=!0)}if(btnContacts){let e=document.querySelector("#feedback-form"),a=e.querySelector(".feedback-form-close"),r=e.querySelector("[name=username]"),t=e.querySelector("[name=email]"),s=e.querySelector("[name=message]");function clearClassForm(){r.classList.remove("feedback-form-text-error"),t.classList.remove("feedback-form-email-error"),s.classList.remove("feedback-form-textarea-error"),e.classList.remove("feedback-form-active")}e.addEventListener("submit",function(a){r.value&&t.value&&s.value?(errorValidation=!1,validateValue(r,usernameRegExp,"feedback-form-text-error"),validateValue(t,emailRegExp,"feedback-form-email-error"),validateValue(s,messageRegExp,"feedback-form-textarea-error"),errorValidation&&(a.preventDefault(),toggleElementsState(e,e,"feedback-form-error"))):(a.preventDefault(),toggleElementsState(e,e,"feedback-form-error"))}),btnContacts.addEventListener("click",function(a){a.preventDefault(),e.classList.contains("feedback-form-close")&&e.classList.remove("feedback-form-close"),e.classList.add("feedback-form-active"),r.focus()}),a.addEventListener("click",function(a){a.preventDefault(),e.classList.remove("feedback-form-error"),e.classList.add("feedback-form-close"),setTimeout(clearClassForm,500)}),window.addEventListener("keydown",function(a){27===a.keyCode&&(a.preventDefault(),e.classList.contains("feedback-form-active")&&(e.classList.remove("feedback-form-error"),e.classList.add("feedback-form-close"),setTimeout(clearClassForm,500)))})}
